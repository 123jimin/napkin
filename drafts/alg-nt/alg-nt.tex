\documentclass[11pt]{scrreprt}
\input{../../tex/preamble}
\def\asydir{}

\renewenvironment{hint}{\begin{gobble}}{\end{gobble}}
\renewenvironment{sol}{\begin{gobble}}{\end{gobble}}

\begin{document}
\title{Algebraic Number Theory Chapters}
\maketitle
\tableofcontents

\section{Garbage can}
\label{prob:OK_unit_norm}

\chapter{Bonus: Let's Solve Pell's Equation!}
This is an optional aside, and can be safely ignored.
(On the other hand, it's pretty short.)

\section{Units}
\prototype{$\pm 1$, roots of unity, $3-\sqrt2$ and its powers.}
Recall according to \Cref{prob:OK_unit_norm} that $\alpha \in \OO_K$ is invertible
if and only if \[ \NK(\alpha) = \pm 1. \]
We let $\OO_K^\times$ denote the set of units of in $K$.

\begin{ques}
	Show that $\OO_K^\times$ is a group under multiplication.
	Hence we name it the \vocab{unit group} of $\OO_K$
\end{ques}

What are some examples of units?
\begin{example}
	[Examples of Units in a Number Field]
	\listhack
	\begin{enumerate}
		\ii $\pm 1$ are certainly units, present in any number field.

		\ii If $\OO_K$ contains an root of unity $\omega$ (\emph{id est} $\omega^n=1$),
		then $\omega$ is a unit.
		(In fact, $\pm 1$ are special cases of this.)

		\ii However, not all units of $\OO_K$ are of this form.
		For example, if $\OO_K = \ZZ[\sqrt3]$ (from $K = \QQ(\sqrt3)$) then
		the number $2+\sqrt3$ is a unit, as its norm is
		\[ \NK(2+\sqrt3) = 2^2 - 3 \cdot 1^2 = 1. \]
		Alternatively, just note that the inverse $2-\sqrt3 \in \OO_K$ as well:
		\[ \left( 2-\sqrt3 \right)\left( 2+\sqrt3 \right) = 1. \]
		Either way, $2-\sqrt3 \in \OO_K^\times$.

		\ii Given any unit $u \in \OO_K^\times$, all its powers are also units.
		So for example, $(3-\sqrt2)^n$ is always a unit of $\ZZ[\sqrt2]$, for any $n$.
		If $u$ is not a root of unity, then this generates infinitely many new units in $\OO_K^\times$.
	\end{enumerate}
\end{example}

\begin{ques}
	Verify the claims above that
	\begin{enumerate}[(a)]
		\ii Roots of unity are units, and
		\ii Powers of units are units.
	\end{enumerate}
	One can either proceed from the definition
	or use the characterization $\NK(\alpha) = \pm 1$.
	If one definition seems more natural to you, use the other.
\end{ques}

\section{Dirichlet's Unit Theorem}
\prototype{The units of $\ZZ[\sqrt3]$ are $\pm(2+\sqrt3)^n$.}

\begin{definition}
	Let $\mu(\OO_K)$ denote the set of roots of unity
	contained in a number field $K$ (equivalently, in $\OO_K$).
\end{definition}
\begin{example}[Examples of $\mu(\OO_K)$]
	\listhack
	\begin{enumerate}[(a)]
		\ii If $K = \QQ(i)$, then $\OO_K = \ZZ[i]$. So
		\[ \mu(\OO_K) = \{\pm1, \pm i\} \quad\text{where } K = \QQ(i). \]
		For $\OO_K = \ZZ[i]$ and the only roots of unity of the form $a+bi$ are $\pm 1, \pm i$.
		\ii If $K = \QQ(\sqrt3)$, then $\OO_K = \ZZ[\sqrt 3]$.
		\[ \mu(\OO_K) = \{\pm 1\} \quad\text{where } K = \QQ(\sqrt 3). \]
		\ii If $K = \QQ(\sqrt{-3})$, then $\OO_K = \ZZ[\half(1+\sqrt{-3})]$.
		In that case,
		\[ \mu(\OO_K)
			= \left\{ \pm 1, \frac{\pm 1 \pm \sqrt{-3}}{2} \right\}
			\quad\text{where } K = \QQ(\sqrt{-3})
		\]
		where the $\pm$'s in the second term need not depend on each other;
		in other words $\mu(\OO_K) = \left\{ z \mid z^6=1 \right\}$.
	\end{enumerate}
\end{example}
\begin{exercise}
	Show that we always have that $\mu(\OO_K)$
	comprises the roots to $x^n-1$ for some integer $n$.
	(First, show it is a finite group under multiplication.)
\end{exercise}

We now quote, without proof, the so-called Dirichlet's Unit Theorem,
which gives us a much more complete picture of what the units in $\OO_K$ are.

\begin{theorem}
	[Dirichlet's Unit Theorem]
	Let $K$ be a number field with signature $(r_1, r_2)$ and set
	\[ s = r_1 + r_2 - 1. \]
	Then there exists units $u_1$, \dots, $u_s$ such that every $\alpha \in \mu(\OO_K^\times)$
	can be written \emph{uniquely} in the form
	\[ \alpha = \omega \cdot u_1^{n_1} \dots u_s^{n_s} \]
	for $\omega \in \mu(\OO_K)$, $n_1, \dots, n_s \in \ZZ$.
\end{theorem}
More succinctly:
\begin{moral}
We have $\OO_K^\times \cong \ZZ^{r_1+r_2-1} \times \mu(\OO_K)$.
\end{moral}
A choice of $u_1$, \dots, $u_s$ is called a choice of \vocab{fundamental units}.

Here are some example applications.
\begin{example}
	[Unit Groups]
	\listhack
	\begin{enumerate}[(a)]
		\ii Let $K = \QQ(i)$ with signature $(0,1)$.
		Then we obtain $s = 0$, so Dirichlet's Unit theorem says that there are no
		units other than the roots of unity.
		Thus
		\[ \OO_K^\times = \{\pm 1, \pm i\} \quad\text{where } K = \QQ(i). \]
		This is not surprising,
		since if $a+bi \in \ZZ[i]$ is a unit if and only if $a^2+b^2 = 1$.

		\ii Let $K = \QQ(\sqrt 3)$ with signature $(2,0)$.
		So, $s = 1$, so $\OO_K^\times$ should be generated by a single element.
		A fundamental unit is $2+\sqrt3$ (or $2-\sqrt3$, its inverse) with norm $1$, and so we find
		\[ \OO_K^\times = \left\{ \pm (2+\sqrt3)^n \mid n \in \ZZ \right\}.  \]

		\ii Let $K = \QQ(\sqrt 2)$ with signature $(2,0)$.
		Again $s=1$, this time with fundamental unit $1+\sqrt2$ (which has norm $-1$).
		Thus
		\[ \OO_K^\times = \left\{ \pm (1-\sqrt2)^n \mid n \in \ZZ \right\}.  \]

		\ii Let $K = \QQ(\sqrt[3]{2})$ with signature $(1,1)$.
		Then $s=1$ again, and a fundamental unit is $1 + \sqrt[3]{2} + \sqrt[3]{4}$. So
		\[ \OO_K^\times
			= \left\{ \pm \left( 1+\sqrt[3]{2}+\sqrt[3]{4} \right)^n \mid n \in \ZZ \right\}. \]
	\end{enumerate}
\end{example}

I haven't 

\section\problemhead

\begin{thebibliography}{9}
\bibitem{ref:oggier_NT} Oggier NT
\bibitem{ref:dummit_foote} Dummit/Foote
\bibitem{ref:ullery} 
\end{thebibliography}
\end{document}

\chapter{Bonus: The Proof of Quadratic Reciprocity (now deleted)}
(This assumes knowledge of the Legendre symbol.)
For those of you that know olympiad number theory,
we can now prove the following result.
\begin{theorem}
	[Quadratic Reciprocity]
	Let $p$ and $q$ be distinct odd primes.
	Then
	\[ \left( \frac pq \right)\left( \frac qp \right) = (-1)^{\frac{p-1}{2} \cdot \frac{q-1}{2}}. \]
\end{theorem}

\section{Setup}
For this proof, we first define
\[ L = \QQ(\zeta_q) \]
where $\zeta_q$ is a primitive $q$th root of unity.
We know that
\begin{itemize}
	\ii $L$ has discriminant $\pm q^{q-2}$, and
	\ii The Galois group $G$ consists of elements
	\[ \Gal(L/\QQ) = \{ \sigma_n \mid n \not\equiv 0 \pmod q \} \]
	where $\sigma_n : \zeta_q \mapsto \zeta_q^n$.
\end{itemize}
We also know $\OO_L = \ZZ[\zeta_q]$, but this won't be used.

\begin{ques}
	Show that $G$ has a unique subgroup $H$ of order two.
\end{ques}
In fact, we can describe it exactly: viewing $G \cong \Zm q$, we have
\[ H = \left\{ \sigma_n \mid \text{$n$ quadratic residue mod $q$} \right\}. \]
By the Fundamental Theorem of Galois Theory, there ought to be a degree $2$
extension of $\QQ$ inside $\QQ(\zeta_q)$ (that is, a quadratic field).
Call it $\QQ(\sqrt{q^\ast})$, for $q^\ast$ squarefree:
\begin{diagram}
	L = \QQ(\zeta_q) & \rIsom & \{1\} \\
	\dLine^{\frac{q-1}{2}} && \dLine \\
	K = \QQ(\sqrt{q^\ast}) & \rIsom & H \\
	\dLine^2 && \dLine \\
	\QQ & \rIsom & G \\
\end{diagram}
\begin{exercise}
	Note that if a rational prime $\ell$ ramifies in $K$,
	then it ramifies in $L$.\footnote{
		Actually, it is true in general that given a tower $L/K/\QQ$,
		we have $\Delta_K$ divides $\Delta_L$.}
	Use this to show that
	\[ q^\ast = \pm q \text{ and } q^\ast \equiv 1 \pmod 4. \]
	Together these determine the value of $q^\ast$.
\end{exercise}

\section{Equivalent Formulation}
Now we are going to prove:
\begin{theorem}
	[Quadratic Reciprocity, Equivalent Formulation]
	For distinct odd primes $p$, $q$ we have
	\[ \left( \frac pq \right) = \left( \frac{q^\ast}{p} \right). \]
\end{theorem}
\begin{exercise}
	Using the fact that $\left( \frac{-1}{p} \right) = (-1)^{\frac{p-1}{2}}$,
	show that this is equivalent to quadratic reciprocity as we know it.
\end{exercise}

We look at the rational prime $p$ in $\ZZ$, and let $(p)$ split into $\pp_1 \dots \pp_g$ in $L$,
with inertial degrees $f$. Pick any $\pp$ among these.
\begin{ques}
	Why is $p$ not ramified in either $K$ or $L$?
\end{ques}
It could possibly also split in $K$: the picture looks like
\begin{diagram}
	\OO_L = \ZZ[\zeta_q] & \supset \pp & \rDotted & \ZZ[\zeta_p]/\pp \cong \FF_{p^f} \\
	\OO_K = \ZZ[\frac{1+\sqrt{q^\ast}}{2}] & \supseteq \rho & \rDotted & \FF_p \text{ or } \FF_{p^2} \\
	\ZZ & \supseteq (p) & \rDotted & \FF_p
\end{diagram}
Here $\rho$ is either $p \cdot \OO_K$ (if $p$ is inert in $K$) or one of the two prime factors
(if it happens to split in two).
We assume here that $\pp \mid \rho \mid (p)$.

\section{Introducing the Frobenius Element}
With this setup, we can introduce the Frobenius element $\Frob_\pp \in \Gal(L/\QQ)$.
\begin{claim}
	We have $\Frob_\pp \in H$ if and only if $p$ splits in $\OO_K$.
\end{claim}
\begin{proof}
Recall that
\[ \Frob_\pp(\alpha) \equiv \alpha^p \pmod{\pp} \quad \forall \alpha \in \OO_L \]
is the Frobenius element at $\pp$ (in $\Gal(L/\QQ)$).
We,re interested in what $\Frob_\pp$ does to $K$:
specifically, by our Galois setup we have
\[ \Frob_\pp \in H \iff \Frob_\pp(\alpha) = \alpha 
\quad \forall \alpha \in \OO_K \]
and we would like to know which side of the coin we're on!

Thus we just have to understand how $\Frob_\rho$ behaves to figure out what $\Frob_\pp$ does.
So there are two ways this could pan out.
\begin{itemize}
	\ii If $(p)$ is inert in $\OO_K$, meaning $\rho = (p)$, then we get $\FF_{p^2}$,
	and $\Frob_\rho$ has order two:
	it's the generator of a Galois group 
	\[ \Gal(\FF_{p^2}/\FF_p) \cong \Zc 2. \]
	Hence $\Frob_\rho$ is \emph{not} the identity.
	\ii On the other hand, if $(p)$ \emph{splits} in $\OO_K$,
	then the Galois group becomes $\Gal(\FF_p/\FF_p) = \{1\}$.
	So $\Frob_\rho$ is trivial. \qedhere
\end{itemize}
\end{proof}

\section{Identify $\Frob_\pp$}
Now recall that the elements of the Galois group $\Gal(L/\QQ)$ are
also (coincidentally!) of the form $x \mapsto x^n$.
(This is only because $L$ is cyclotomic!)
To repeat myself,
\[ \Gal(L/\QQ) = \{ \sigma_n \mid n \not\equiv 0 \pmod q \} \quad\text{where}\quad \sigma_n(x) = x^n. \]
This gives:
\begin{claim}
	$\Frob_\pp$ is $\sigma_p$ (regardless of which $\pp$ is chosen!)
\end{claim}
\begin{proof}
	This is kind of dumb, but there is content\dots
	for some $n \pmod p$, we have $\Frob_\pp = \sigma_n$.
	Now, using the property of $\Frob_\pp$ gives
	\[ \zeta_q^n = \Frob_\pp(\zeta_q) \equiv \zeta_q^p \pmod{\pp}. \]
	We want to show this forces $n=p$: in other words,
	we need the $q$th roots of unity be distinct mod $\pp$.

	Look at the polynomial \[ F(X) = X^q-1 \] in \[ \ZZ[\zeta_p]/\pp \cong \FF_{p^f}. \]
	Its derivative is \[ F'(X) = qX^{q-1} \not\equiv 0 \pmod{\pp} \]
	(since $\FF_{p^f}$ has characteristic $p \nmid q$).
	The only root of $F'$ is zero, hence $F$ has no double roots mod $\pp$.
\end{proof}

\section{Finishing Up}
In summary, using the fact that $\sigma_p = \Frob_\pp$ we have deduced that
\[ \sigma_p \in H \iff \text{$p$ splits in $\OO_K = \ZZ\left[ \tfrac12(1+\sqrt{q^\ast}) \right]$}. \]
Well, $\sigma_p \in H$ if and only if $\left( \frac pq \right) = 1$. And:
\begin{exercise}
	Use the Factoring Algorithm to show that $p$ splits exactly when $\left( \frac{q^\ast}{p} \right) = 1$.
\end{exercise}

This completes the proof.
In short the path is:
\[ \left( \frac pq \right) = 1
	\iff \sigma_p \in H \iff \text{$p$ splits in $ = \ZZ\left[ \tfrac12(1+\sqrt{q^\ast}) \right]$}
	\iff \left( \frac{q^\ast}{p} \right) = 1.
\]


\section\problemhead
\begin{problem}
	Adapt the proof of quadratic reciprocity to get $\left( \frac 2p \right) = (-1)^{\frac{p^2-1}{8}}$.
\end{problem}
